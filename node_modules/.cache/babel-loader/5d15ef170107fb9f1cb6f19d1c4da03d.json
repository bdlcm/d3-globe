{"ast":null,"code":"import { object } from \"./feature.js\";\nimport stitch from \"./stitch.js\";\nexport default function (topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {\n    type: \"MultiLineString\",\n    arcs: stitch(topology, arcs)\n  };\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({\n      i: i,\n      g: geom\n    });\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\":\n        o.geometries.forEach(geometry);\n        break;\n\n      case \"LineString\":\n        extract1(o.arcs);\n        break;\n\n      case \"MultiLineString\":\n      case \"Polygon\":\n        extract2(o.arcs);\n        break;\n\n      case \"MultiPolygon\":\n        extract3(o.arcs);\n        break;\n    }\n  }\n\n  geometry(object);\n  geomsByArc.forEach(filter == null ? function (geoms) {\n    arcs.push(geoms[0].i);\n  } : function (geoms) {\n    if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i);\n  });\n  return arcs;\n}","map":{"version":3,"names":["object","stitch","topology","meshArcs","apply","arguments","filter","arcs","i","n","length","extractArcs","Array","type","geomsByArc","geom","extract0","j","push","g","extract1","forEach","extract2","extract3","geometry","o","geometries","geoms"],"sources":["/Users/barbaramoahamed/Documents/repos/Globe-main/node_modules/topojson-client/src/mesh.js"],"sourcesContent":["import {object} from \"./feature.js\";\nimport stitch from \"./stitch.js\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}