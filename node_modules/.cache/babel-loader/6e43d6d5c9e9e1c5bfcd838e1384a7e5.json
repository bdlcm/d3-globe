{"ast":null,"code":"import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\nexport default function (topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\" ? {\n    type: \"FeatureCollection\",\n    features: o.geometries.map(function (o) {\n      return feature(topology, o);\n    })\n  } : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {\n    type: \"Feature\",\n    properties: properties,\n    geometry: geometry\n  } : bbox == null ? {\n    type: \"Feature\",\n    id: id,\n    properties: properties,\n    geometry: geometry\n  } : {\n    type: \"Feature\",\n    id: id,\n    bbox: bbox,\n    properties: properties,\n    geometry: geometry\n  };\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n\n\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type,\n        coordinates;\n\n    switch (type) {\n      case \"GeometryCollection\":\n        return {\n          type: type,\n          geometries: o.geometries.map(geometry)\n        };\n\n      case \"Point\":\n        coordinates = point(o.coordinates);\n        break;\n\n      case \"MultiPoint\":\n        coordinates = o.coordinates.map(point);\n        break;\n\n      case \"LineString\":\n        coordinates = line(o.arcs);\n        break;\n\n      case \"MultiLineString\":\n        coordinates = o.arcs.map(line);\n        break;\n\n      case \"Polygon\":\n        coordinates = polygon(o.arcs);\n        break;\n\n      case \"MultiPolygon\":\n        coordinates = o.arcs.map(polygon);\n        break;\n\n      default:\n        return null;\n    }\n\n    return {\n      type: type,\n      coordinates: coordinates\n    };\n  }\n\n  return geometry(o);\n}","map":{"version":3,"names":["reverse","transform","topology","o","objects","type","features","geometries","map","feature","id","bbox","properties","geometry","object","transformPoint","arcs","arc","i","points","length","pop","a","k","n","push","point","p","line","ring","polygon","coordinates"],"sources":["/Users/barbaramoahamed/Documents/repos/Globe-main/node_modules/topojson-client/src/feature.js"],"sourcesContent":["import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\n\nexport default function(topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}